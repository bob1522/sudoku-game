<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Sudoku Grid</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/sudoku@1.0.0/lib/sudoku.min.js"></script>

</head>
<body>
<div class="sudoku-grid" id="sudoku-grid">
    <!-- Cells will be generated by JavaScript -->
</div>
<script>
      document.addEventListener('DOMContentLoaded', function() {
      document.getElementById('generate-btn').addEventListener('click', function() {
        const difficulty = document.getElementById('difficulty-select').value;
        generateNewGame(difficulty);
      });
    
      document.getElementById('solve-btn').addEventListener('click', function() {
        solveGame();
      });
    });
    
    function generateNewGame(difficulty) {
      clearBoard();
      const puzzle = generatePuzzle(difficulty);
      populateBoard(puzzle);
    }
    
    function generatePuzzle(difficulty) {
      const puzzleString = sudoku.generate(difficulty); // Using sudoku.js library
      return convertPuzzleStringToArray(puzzleString);
    }
    
    function solveGame() {
      const board = getCurrentBoard();
      const solution = solveSudoku(board);
      populateBoard(solution);
    }
    
    function solveSudoku(board) {
      const boardString = board.map(num => (num === 0 ? '.' : num)).join('');
      const solutionString = sudoku.solve(boardString);
      return convertPuzzleStringToArray(solutionString);
    }
    
    function clearBoard() {
      for (let i = 0; i < 81; i++) {
        document.getElementById(`cell-${i}`).value = '';
      }
    }
    
    function populateBoard(puzzleArray) {
      for (let i = 0; i < 81; i++) {
        document.getElementById(`cell-${i}`).value = puzzleArray[i] || '';
      }
    }
    
    function getCurrentBoard() {
      const board = [];
      for (let i = 0; i < 81; i++) {
        const value = document.getElementById(`cell-${i}`).value;
        board.push(value ? parseInt(value, 10) : 0);
      }
      return board;
    }
    
    function convertPuzzleStringToArray(puzzleString) {
      return puzzleString.split('').map(char => (char === '.' ? 0 : parseInt(char, 10)));
    }


    function createSudokuGrid() {
        const gridElement = document.getElementById('sudoku-grid');

        for (let row = 0; row < 9; row++) {
            for (let col = 0; col < 9; col++) {
                const cellValue = puzzle[row][col];
                const cellElement = document.createElement('div');
                cellElement.classList.add('sudoku-cell');

                // Add thick borders for 3x3 grids
                if (col % 3 === 0 && col !== 0) {
                    cellElement.style.borderLeft = '2px solid #000';
                }
                if (row % 3 === 0 && row !== 0) {
                    cellElement.style.borderTop = '2px solid #000';
                }

                const inputElement = document.createElement('input');
                inputElement.type = 'text';
                inputElement.maxLength = 1;
                inputElement.dataset.row = row;
                inputElement.dataset.col = col;

                if (cellValue !== 0) {
                    inputElement.value = cellValue;
                    inputElement.readOnly = true;
                    cellElement.classList.add('fixed');
                } else {
                    inputElement.value = '';
                }

                cellElement.appendChild(inputElement);
                gridElement.appendChild(cellElement);
            }
        }
    }
    createSudokuGrid();
</script>
    <!-- Place this in your HTML where you want the buttons and selector to appear -->
<div id="controls">
  <button id="generate-btn">Generate New Game</button>
  <button id="solve-btn">Solve Game</button>
  <label for="difficulty-select">Difficulty:</label>
  <select id="difficulty-select">
    <option value="easy">Easy</option>
    <option value="medium" selected>Medium</option>
    <option value="hard">Hard</option>
  </select>
</div>
    
</body>


    
</html>

